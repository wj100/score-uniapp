"use strict";const t=require("../common/vendor.js"),e=require("../utils/storage.js"),s={data:()=>({result:"点击按钮开始测试...",players:[]}),methods:{async testInitPlayers(){try{this.result="正在初始化队员...";const t=await e.initPlayers();this.result="初始化结果: "+(t?"成功":"失败"),console.log("初始化结果:",t)}catch(t){this.result=`初始化失败: ${t.message}`,console.error("初始化失败:",t)}},async testGetPlayers(){try{this.result="正在获取队员列表...",this.players=await e.getPlayers(),this.result=`获取到 ${this.players.length} 个队员`,console.log("获取到的队员:",this.players)}catch(t){this.result=`获取失败: ${t.message}`,console.error("获取队员失败:",t)}},async testCloudFunction(){try{this.result="正在测试云函数连接...";const e=await t.tr.callFunction({name:"badminton-api",data:{action:"getPlayers"}});console.log("云函数原始返回:",e),this.result=`云函数返回: ${JSON.stringify(e.result,null,2)}`}catch(e){this.result=`云函数调用失败: ${e.message}`,console.error("云函数调用失败:",e)}}}};const r=t._export_sfc(s,[["render",function(e,s,r,a,l,o){return t.e({a:t.o(((...t)=>o.testInitPlayers&&o.testInitPlayers(...t))),b:t.o(((...t)=>o.testGetPlayers&&o.testGetPlayers(...t))),c:t.o(((...t)=>o.testCloudFunction&&o.testCloudFunction(...t))),d:t.t(l.result),e:l.players.length>0},l.players.length>0?{f:t.f(l.players,((e,s,r)=>({a:t.t(e),b:s})))}:{})}],["__scopeId","data-v-508d0ac1"]]);wx.createPage(r);
